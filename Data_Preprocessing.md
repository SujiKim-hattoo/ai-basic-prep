# Data Processing 이란?

---

## 1. 정의

: 데이터를 분석 및 모델링이 가능하도록 **정제**하고 **구조화**하는 일련의 과정
=> **데이터 분석의 첫 단계**이자 **분석의 정확도**를 결정짓는 매우 중요한 작업

---

## 2. 종류

* 데이터 정제 (Cleaning)
* 데이터 변환 (Transformation)
* 데이터 축소 (Reduction)
* 특성 선택 및 추출 (Feature Selection/Extraction)

---

## 3. 중요성

* 결측값, 중복값, 이상치를 제거하여 **분석 오류 방지**
* 데이터 품질을 높여 **정확한 모델링과 예측 가능**
* 머신러닝 알고리즘의 **학습 효율 개선**

---

## 4. Data Processing에서 중요한 3가지


### 4.1 결측값 처리

#### 정의

  이루어지지 못한 관측값. 즉, 수집된 데이터에 **누락된 값(Null)** 이 존재하는 경우

#### 처리해야 하는 이유

결측값이 있는 데이터를 그대로 분석할 경우 ->  **에러** 또는 **왜곡**된 결과 발생 가능

#### 처리 방법

* i. 해당 데이터를 **삭제** 
* ii. 다른 적절한 값으로 **대체**

#### 처리 기준 
(단, 절대적 기준은 아님)

| 결측 비율   | 처리 방법 예시                       |
| ------- | ------------------------------ |
| 10% 미만  | row 삭제 또는 치환 → `replace()` 등   |
| 10\~50% | 모델 기반 예측 또는 대체                 |
| 50% 이상  | 해당 column 삭제 또는 평균, 중앙값 등으로 대체 |

#### 관련 함수

* `isna()` : 결측치 여부 확인
* `fillna(값)` : 결측치를 지정한 값으로 채움
* `dropna()` : 결측치를 포함하는 행 제거



### 4.2 중복값 제거

#### 정의

**동일한 행**이 **중복**되어 존재하는 경우

#### 제거해야 하는 이유

중복된 데이터는 **통계적 왜곡**의 원인이 되기도 함

#### 처리 방법

: `duplicated()`로 중복 여부 확인 ->  `drop_duplicates()`로 동일한 행 완전 삭제(단, 한 행만 남기고)

  (필요 시 `subset`, `keep`, `inplace` 등의 매개변수 지정 가능)



### 4.3 이상치 처리

#### 정의

 **정상적**인 데이터 분포에서 **벗어난 값**이 존재하는 경우

#### 처리해야 하는 이유

이상치는 모델의 **학습을 방해**하거나 **왜곡된 예측 결과**를 유발할 수 있음

#### 처리 방법

* i. 제거 - 데이터 손실에 유의
* ii. 치환 - 평균, 중앙값 등으로 이상치 대체
  이상치 여부를 표시하는 새로운 컬럼 생성 -> 후속 분석에 유용
  ```python
  import numpy as np  
  df["outlier"] = np.where(df["컬럼명"] > 기준값, 1, 0)
  ```
* iii. 변환 - 로그 변환, 제곱근 변환 등으로 이상치의 영향 완화 가능
  ```python
  df["컬럼명"] = np.log(df["컬럼명"])
  ```

#### (참고: 이상치 탐지 방법)

* **개별 탐지** (IQR 방식)

  * Q1: 1사분위 (25%)
  * Q3: 3사분위 (75%)
  * 이상치 기준: `Q1 - 1.5 * IQR` 보다 작거나 `Q3 + 1.5 * IQR` 보다 큰 값

* **전체 탐지** (모델 기반)

  * `sklearn.covariance.EllipticEnvelope` 등의 이상치 감지 모델을 통해 이상치 여부 판단

> ※ 이상치 탐지는 하나의 방법으로 단정할 수 없으며, **여러 기준을 종합적으로 검토**해야 함

---

## 참고자료

* 강지영, 『파이썬으로 시작하는 데이터 분석: 데이터 분석을 위한 Python 문법부터 데이터 수집, 전처리, 탐색까지』, 아이리포, 2021.
* 크리스 알본, 『파이썬을 활용한 머신러닝 쿡북: 전처리에서 딥러닝까지, 판다스와 사이킷런 중심의 실전 문제 해결 200선』, 박해선 옮김, 한빛미디어, 2019.
